fillval=0.3
GPSD: [down
    M: box width 5 "Multiplexer" fill
    down
    C: box width 5 "Core library" fill
    down
    S: box width 1.3 "Packet sniffer" with .nw at C.sw fill
    move to last box .e; right;
    D1: box "Driver" width 0.75 fill
    right 
    D2: box "Driver" width 0.75 fill
    right 
    D3: box "Driver" width 0.75 fill
    move right 0.15
    circle radius 0.01 fill 1
    move right 0.15
    circle radius 0.01 fill 1
    move right 0.15
    circle radius 0.01 fill 1
    DN: box "Driver" width 0.75 with .ne at C.se fill
]
define client {
   up
   arrow dashed from $1 <GPSD.nw,GPSD.ne>;
   box rad 0.1 "client" "session" fill
}
client(0.1)
client(0.3)
client(0.5)
client(0.7)
client(0.9)
define sensor {
   down
   arrow dashed from GPSD.$1.s;
   circle "sensor" fill
}
sensor(D1)
sensor(D2)
sensor(D3)
sensor(DN)
